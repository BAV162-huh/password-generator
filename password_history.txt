import tkinter as tk
from tkinter import messagebox
import random
import pyperclip

# Ø§Ù„Ø®Ø¯Ù…Ø§Øª
services_en = {
    1: "Email", 2: "Facebook", 3: "Instagram", 4: "Twitter", 5: "TikTok",
    6: "WhatsApp", 7: "Telegram", 8: "Snapchat", 9: "YouTube", 10: "Orange Money",
    11: "Vodafone Cash", 12: "Etisalat", 13: "We Pay", 14: "Netflix",
    15: "Amazon", 16: "Spotify", 17: "Steam", 18: "Discord", 19: "Gmail", 20: "General"
}

services_ar = {
    1: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ", 2: "ÙÙŠØ³Ø¨ÙˆÙƒ", 3: "Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù…", 4: "ØªÙˆÙŠØªØ±", 5: "ØªÙŠÙƒ ØªÙˆÙƒ",
    6: "ÙˆØ§ØªØ³Ø§Ø¨", 7: "ØªÙ„ÙŠØ¬Ø±Ø§Ù…", 8: "Ø³Ù†Ø§Ø¨ Ø´Ø§Øª", 9: "ÙŠÙˆØªÙŠÙˆØ¨", 10: "Ø£ÙˆØ±Ø§Ù†Ø¬ ÙƒØ§Ø´",
    11: "ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´", 12: "Ø§ØªØµØ§Ù„Ø§Øª", 13: "We Pay", 14: "Ù†ØªÙÙ„ÙŠÙƒØ³",
    15: "Ø£Ù…Ø§Ø²ÙˆÙ†", 16: "Ø³Ø¨ÙˆØªÙŠÙØ§ÙŠ", 17: "Ø³ØªÙŠÙ…", 18: "Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯", 19: "Ø¬ÙŠÙ…ÙŠÙ„", 20: "Ø¹Ø§Ù…"
}

def generate_password():
    chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-_=+"
    return ''.join(random.choice(chars) for _ in range(14))

def copy_to_clipboard(password):
    pyperclip.copy(password)
    messagebox.showinfo("ØªÙ… Ø§Ù„Ù†Ø³Ø®", f"âœ… ØªÙ… Ù†Ø³Ø® ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:\n{password}")

def show_passwords(service_name, language):
    clear_screen()
    back_text = "â¬… Ø¹ÙˆØ¯Ø©" if language == "ar" else "â¬… Back"
    label_text = f"ğŸ” ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±: {service_name}" if language == "ar" else f"ğŸ” Passwords for: {service_name}"

    tk.Label(root, text=label_text, font=("Arial", 14, "bold"), bg="#111", fg="#00ffcc").pack(pady=15)

    for _ in range(3):
        password = generate_password()
        with open("password_history.txt", "a", encoding="utf-8") as f:
            f.write(f"{service_name}: {password}\n")
        frame = tk.Frame(root, bg="#111")
        frame.pack(pady=7)
        tk.Label(frame, text=password, font=("Courier", 13), bg="#111", fg="#00ffaa").pack(side="left", padx=10)
        tk.Button(frame, text="ğŸ“‹ Copy", command=lambda p=password: copy_to_clipboard(p),
                  bg="#00cc88", fg="white", font=("Arial", 10)).pack(side="left")

    tk.Button(root, text=back_text, font=("Arial", 12, "bold"), bg="#444", fg="white",
              command=lambda: show_services(language)).pack(pady=20)

def show_services(language):
    clear_screen()
    services = services_ar if language == "ar" else services_en
    label_text = "ğŸ§© Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©:" if language == "ar" else "ğŸ§© Choose a service:"
    tk.Label(root, text=label_text, font=("Arial", 14, "bold"), bg="#111", fg="#00ffcc").pack(pady=10)

    # canvas + scrollbar
    canvas = tk.Canvas(root, bg="#111", highlightthickness=0)
    frame_scroll = tk.Frame(canvas, bg="#111")
    scrollbar = tk.Scrollbar(root, orient="vertical", command=canvas.yview)
    canvas.configure(yscrollcommand=scrollbar.set)

    canvas.pack(side="left", fill="both", expand=True, padx=10)
    scrollbar.pack(side="right", fill="y")
    canvas.create_window((0, 0), window=frame_scroll, anchor="nw")

    def on_mouse_scroll(event):
        canvas.yview_scroll(int(-1 * (event.delta / 120)), "units")

    frame_scroll.bind("<Configure>", lambda e: canvas.configure(scrollregion=canvas.bbox("all")))
    canvas.bind_all("<MouseWheel>", on_mouse_scroll)  # Ù„Ù„ÙˆÙŠÙ†Ø¯ÙˆØ²

    for num, name in services.items():
        btn_text = f"{num}. {name}"
        tk.Button(frame_scroll, text=btn_text, font=("Arial", 12), width=30,
                  command=lambda n=name: show_passwords(n, language),
                  bg="#222", fg="white").pack(pady=5, ipadx=3, ipady=5)

def clear_screen():
    for widget in root.winfo_children():
        widget.destroy()

def choose_language():
    clear_screen()
    tk.Label(root, text="ğŸ” Smart Password Generator", font=("Arial", 13, "bold"), bg="#111", fg="#00ccff").pack(pady=20)
    tk.Label(root, text="Please select your language / Ø§Ø®ØªØ± Ù„ØºØªÙƒ", font=("Arial", 12), bg="#111", fg="white").pack(pady=10)
    tk.Button(root, text="ğŸŒ English", font=("Arial", 12, "bold"), bg="#00aaee", fg="white", width=20,
              command=lambda: show_services("en")).pack(pady=10)
    tk.Button(root, text="ğŸŒ Ø¹Ø±Ø¨ÙŠ", font=("Arial", 12, "bold"), bg="#00aa88", fg="white", width=20,
              command=lambda: show_services("ar")).pack(pady=10)

# Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
root = tk.Tk()
root.title("ğŸ” Password Generator")
root.geometry("500x600")
root.configure(bg="#111")
choose_language()
root.mainloop()
